<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>学分管理平台</title>
		<meta name="renderer" content="webkit">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="layui-v2.8.17/layui/css/layui.css" />
		<script src="X-admin/lib/layui/lay/modules/layer.js"></script>
		<link rel="stylesheet" href="./X-admin/css/font.css">
		<link rel="stylesheet" href="./X-admin/css/xadmin.css">
		<script type="text/javascript" src="./X-admin/lib/layui/layui.js" charset="utf-8"></script>
		<script type="text/javascript" src="./X-admin/js/xadmin.js"></script>
		
	</head>
	<body>
		<div class="layui-fluid">
		    <div class="layui-row">
		        <form class="layui-form">
					<div class="layui-form-item">
					    <label for="fname" class="layui-form-label">
					        <span class="x-red">*</span>课程id
					    </label>
					    <div class="layui-input-inline">
					        <input type="text" id="courseid" name="courseid" required="" lay-verify="required"
					        autocomplete="off" class="layui-input">
					    </div>
					   
					</div>
					
		          <div class="layui-form-item">
		              <label for="fname" class="layui-form-label">
		                  <span class="x-red">*</span>课程学时
		              </label>
		              <div class="layui-input-inline">
		                  <input type="text" id="coursehours" name="coursehours" required="" lay-verify="required"
		                  autocomplete="off" class="layui-input">
		              </div>
		             
		          </div>
		          <div class="layui-form-item">
		              <label for="fdirctor" class="layui-form-label">
		                  <span class="x-red">*</span>课程名
		              </label>
		              <div class="layui-input-inline">
		                  <input type="text" id="coursename" name="coursename" required="" lay-verify=""
		                  autocomplete="off" class="layui-input">
		              </div>
		              
		          </div>
				  <div class="layui-form-item">
				      <label for="factor" class="layui-form-label">
				          <span class="x-red">*</span>教师
				      </label>
				      <div class="layui-input-inline">
				          <input type="text" id="courseteacher" name="courseteacher" required="" lay-verify=""
				          autocomplete="off" class="layui-input">
				      </div>
				      
				  </div>
		          <div class="layui-form-item">
		              <label for="ftype" class="layui-form-label">
		                  <span class="x-red">*</span>学分值
		              </label>
		              <div class="layui-input-inline">
		                  <input type="text" id="columnscore" name="columnscore" required="" lay-verify=""
		                  autocomplete="off" class="layui-input">
		              </div>
					  </div>
		              
				 <!-- <div class="layui-form-item">
				     <label for="ftype" class="layui-form-label">
				         <span class="x-red">*</span>班级
				     </label>
				     <div class="layui-input-inline">
				         <input type="text" id="stuclass" name="stuclass" required="" lay-verify=""
				         autocomplete="off" class="layui-input">
				     </div>
				     
				 
				      
				  </div> -->
				  
		          <div class="layui-form-item">
		              <label for="L_repass" class="layui-form-label">
		              </label>
		              <button  class="layui-btn" lay-filter="add" lay-submit="">
		                  增加
		              </button>
		          </div>
		      </form>
		    </div>
		</div>
		
		
		
		<script>
		    layui.use(['form', 'layer'], function(){
		        var form = layui.form;
		        var layer = layui.layer;
		
		        //监听提交
		        form.on('submit(add)', function(data){
		            console.log(data);
		            $.ajax({
		                url: "http://localhost:8080/Course/addcourse",
		                type: "POST",
		                contentType: "application/json",
		                data: JSON.stringify(data.field), // 将表单数据转换为JSON字符串
		                dataType: "json", // 指定返回的数据类型为JSON
		                success: function(res){
		                    if (res.code == 0){
		                        layer.msg("操作成功！", {
		                            icon: 1,
		                            time: 2000
		                        }, function(){
		                            xadmin.close();
		                            xadmin.father_reload();
		                        });
		                    } else {
		                        layer.msg("操作异常！", {
		                            icon: 2
		                        });
		                    }
		                },
		                error: function(error){
		                    layer.msg("操作失败，请稍后重试！", {
		                        icon: 2
		                    });
		                }
		            });
		            return false; // 阻止表单提交
		        });
		    });
		</script>

		
	</body>
</html>
